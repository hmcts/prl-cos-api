{"name":"whenValidRequestFormat_Return200","id":"uk.gov.hmcts.reform.prl.controllers.ServiceRequestUpdateCallbackControllerIntegrationTest:whenValidRequestFormat_Return200","testCaseName":"uk.gov.hmcts.reform.prl.controllers.ServiceRequestUpdateCallbackControllerIntegrationTest","testSteps":[{"number":1,"description":"POST https://idam-api.aat.platform.hmcts.net/testing-support/accounts","duration":0,"startTime":"2021-12-21T16:19:11.873356Z[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://idam-api.aat.platform.hmcts.net/testing-support/accounts","content":"{\n    \"email\": \"simulate-deliverede61bda36-901f-43a7-8620-4ebdbedc59a0@testhmcts.net\",\n    \"password\": \"genericPassword123\",\n    \"forename\": \"Henry\",\n    \"surname\": \"Harper\",\n    \"roles\": [\n        {\n            \"code\": \"caseworker-privatelaw-solicitor\"\n        }\n    ]\n}","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Date: Tue, 21 Dec 2021 16:19:12 GMT\nContent-Type: application/json\nContent-Length: 309\nConnection: keep-alive\nCache-Control: no-cache, no-store, max-age\u003d0, must-revalidate\nExpires: 0\nPragma: no-cache\nRequest-Context: appId\u003dcid-v1:0d196103-84f6-43c7-9124-898486b5197c\nStrict-Transport-Security: max-age\u003d31536000 ; includeSubDomains\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-Xss-Protection: 1; mode\u003dblock","responseCookies":"","responseBody":"{\n    \"id\": \"f481d275-467c-442e-a924-ce035a9e77aa\",\n    \"forename\": \"Henry\",\n    \"surname\": \"Harper\",\n    \"email\": \"simulate-deliverede61bda36-901f-43a7-8620-4ebdbedc59a0@testhmcts.net\",\n    \"active\": true,\n    \"locked\": false,\n    \"roles\": [\n        \"caseworker-privatelaw-solicitor\"\n    ],\n    \"ssoProvider\": \"testing-support\",\n    \"lastModified\": \"2021-12-21T16:19:11.946Z\"\n}","statusCode":201},"precondition":false,"level":0},{"number":2,"description":"POST https://idam-api.aat.platform.hmcts.net/oauth2/authorize?response_type\u003dcode\u0026client_id\u003dxuiwebapp\u0026redirect_uri\u003dhttps%3A%2F%2Fmanage-case.aat.platform.hmcts.net%2Foauth2%2Fcallback","duration":0,"startTime":"2021-12-21T16:19:14.381847Z[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://idam-api.aat.platform.hmcts.net/oauth2/authorize?response_type\u003dcode\u0026client_id\u003dxuiwebapp\u0026redirect_uri\u003dhttps%3A%2F%2Fmanage-case.aat.platform.hmcts.net%2Foauth2%2Fcallback","content":"","contentType":"application/x-www-form-urlencoded","requestHeaders":"Authorization\u003dBasic c2ltdWxhdGUtZGVsaXZlcmVkZTYxYmRhMzYtOTAxZi00M2E3LTg2MjAtNGViZGJlZGM1OWEwQHRlc3RobWN0cy5uZXQ6Z2VuZXJpY1Bhc3N3b3JkMTIz\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/x-www-form-urlencoded; charset\u003dISO-8859-1","requestCookies":"","responseHeaders":"Date: Tue, 21 Dec 2021 16:19:14 GMT\nContent-Type: application/json\nContent-Length: 38\nConnection: keep-alive\nCache-Control: no-cache, no-store, max-age\u003d0, must-revalidate\nExpires: 0\nPragma: no-cache\nRequest-Context: appId\u003dcid-v1:0d196103-84f6-43c7-9124-898486b5197c\nStrict-Transport-Security: max-age\u003d31536000 ; includeSubDomains\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-Xss-Protection: 1; mode\u003dblock","responseCookies":"","responseBody":"{\n    \"code\": \"jUfT6_8r-idMKQmw5ah5vTwxLuo\"\n}","statusCode":200},"precondition":false,"level":0},{"number":3,"description":"POST https://idam-api.aat.platform.hmcts.net/oauth2/token?code\u003djUfT6_8r-idMKQmw5ah5vTwxLuo\u0026client_id\u003dxuiwebapp\u0026client_secret\u003dtest\u0026redirect_uri\u003dhttps%3A%2F%2Fmanage-case.aat.platform.hmcts.net%2Foauth2%2Fcallback\u0026grant_type\u003dauthorization_code","duration":0,"startTime":"2021-12-21T16:19:17.714536Z[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://idam-api.aat.platform.hmcts.net/oauth2/token?code\u003djUfT6_8r-idMKQmw5ah5vTwxLuo\u0026client_id\u003dxuiwebapp\u0026client_secret\u003dtest\u0026redirect_uri\u003dhttps%3A%2F%2Fmanage-case.aat.platform.hmcts.net%2Foauth2%2Fcallback\u0026grant_type\u003dauthorization_code","content":"","contentType":"application/x-www-form-urlencoded","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/x-www-form-urlencoded; charset\u003dISO-8859-1","requestCookies":"","responseHeaders":"Date: Tue, 21 Dec 2021 16:19:17 GMT\nContent-Type: application/json\nContent-Length: 77\nConnection: keep-alive\nCache-Control: no-cache, no-store, max-age\u003d0, must-revalidate\nExpires: 0\nPragma: no-cache\nRequest-Context: appId\u003dcid-v1:0d196103-84f6-43c7-9124-898486b5197c\nStrict-Transport-Security: max-age\u003d31536000 ; includeSubDomains\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-Xss-Protection: 1; mode\u003dblock","responseCookies":"","responseBody":"{\n    \"error_description\": \"Client authentication failed\",\n    \"error\": \"invalid_client\"\n}","statusCode":400},"precondition":false,"level":0}],"userStory":{"id":"uk.gov.hmcts.reform.prl.controllers.ServiceRequestUpdateCallbackControllerIntegrationTest","storyName":"Service request update callback controller integration test","storyClassName":"uk.gov.hmcts.reform.prl.controllers.ServiceRequestUpdateCallbackControllerIntegrationTest","path":"uk.gov.hmcts.reform.prl.controllers","type":"story"},"featureTag":{"name":"Uk.gov.hmcts.reform.prl.controllers/Service request update callback controller integration test","type":"story","displayName":"Uk.gov.hmcts.reform.prl.controllers/Service request update callback controller integration test"},"title":"When valid request format return200","tags":[{"name":"Uk.gov.hmcts.reform.prl.controllers/Service request update callback controller integration test","type":"story","displayName":"Uk.gov.hmcts.reform.prl.controllers/Service request update callback controller integration test"}],"startTime":"2021-12-21T16:19:10.885233Z[Europe/London]","duration":6834,"rule":"RULE_NOT_SET","testFailureCause":{"errorType":"java.lang.AssertionError","message":"Error generating code from IDAM: 400","stackTrace":[{"classLoaderName":"app","declaringClass":"uk.gov.hmcts.reform.prl.IntegrationTest","methodName":"generateUserTokenWithNoRoles","fileName":"IntegrationTest.java","lineNumber":154,"format":1},{"classLoaderName":"app","declaringClass":"uk.gov.hmcts.reform.prl.IntegrationTest","methodName":"getUserToken","fileName":"IntegrationTest.java","lineNumber":105,"format":1},{"classLoaderName":"app","declaringClass":"uk.gov.hmcts.reform.prl.IntegrationTest","methodName":"getAuthorizationToken","fileName":"IntegrationTest.java","lineNumber":112,"format":1},{"classLoaderName":"app","declaringClass":"uk.gov.hmcts.reform.prl.controllers.ServiceRequestUpdateCallbackControllerIntegrationTest","methodName":"whenValidRequestFormat_Return200","fileName":"ServiceRequestUpdateCallbackControllerIntegrationTest.java","lineNumber":46,"format":1},{"classLoaderName":"app","declaringClass":"org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks","methodName":"evaluate","fileName":"RunBeforeTestMethodCallbacks.java","lineNumber":75,"format":1},{"classLoaderName":"app","declaringClass":"org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks","methodName":"evaluate","fileName":"RunAfterTestMethodCallbacks.java","lineNumber":86,"format":1}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"Error generating code from IDAM: 400","testFailureSummary":"FAILURE;java.lang.AssertionError;Error generating code from IDAM: 400;IntegrationTest.java","projectKey":"","annotatedResult":"FAILURE","isManualTestingUpToDate":false,"manual":false,"testSource":"JUnit","order":0,"result":"FAILURE"}