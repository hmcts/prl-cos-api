{"name":"whenValidRequestFormat_Return200","id":"uk.gov.hmcts.reform.prl.controllers.EmailControllerIntegrationTest:whenValidRequestFormat_Return200","testCaseName":"uk.gov.hmcts.reform.prl.controllers.EmailControllerIntegrationTest","testSteps":[{"number":1,"description":"POST https://idam-api.aat.platform.hmcts.net/testing-support/accounts","duration":2,"startTime":"2022-01-10T12:50:23.555932Z[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://idam-api.aat.platform.hmcts.net/testing-support/accounts","content":"{\n    \"email\": \"simulate-delivered39dc98b8-68ad-4a74-901b-9eae59908141@mailinator.com\",\n    \"password\": \"genericPassword123\",\n    \"forename\": \"Henry\",\n    \"surname\": \"Harper\",\n    \"roles\": [\n        {\n            \"code\": \"caseworker-privatelaw-solicitor\"\n        }\n    ]\n}","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Date: Mon, 10 Jan 2022 12:50:23 GMT\nContent-Type: application/json\nContent-Length: 310\nConnection: keep-alive\nCache-Control: no-cache, no-store, max-age\u003d0, must-revalidate\nExpires: 0\nPragma: no-cache\nRequest-Context: appId\u003dcid-v1:0d196103-84f6-43c7-9124-898486b5197c\nStrict-Transport-Security: max-age\u003d31536000 ; includeSubDomains\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-Xss-Protection: 1; mode\u003dblock","responseCookies":"","responseBody":"{\n    \"id\": \"d01223c4-cae5-41f6-825b-9e328676afce\",\n    \"forename\": \"Henry\",\n    \"surname\": \"Harper\",\n    \"email\": \"simulate-delivered39dc98b8-68ad-4a74-901b-9eae59908141@mailinator.com\",\n    \"active\": true,\n    \"locked\": false,\n    \"roles\": [\n        \"caseworker-privatelaw-solicitor\"\n    ],\n    \"ssoProvider\": \"testing-support\",\n    \"lastModified\": \"2022-01-10T12:50:23.638Z\"\n}","statusCode":201},"precondition":false,"level":0},{"number":2,"description":"POST https://idam-api.aat.platform.hmcts.net/oauth2/authorize?response_type\u003dcode\u0026client_id\u003dxuiwebapp\u0026redirect_uri\u003dhttps%3A%2F%2Fmanage-case.aat.platform.hmcts.net%2Foauth2%2Fcallback","duration":0,"startTime":"2022-01-10T12:50:23.811685Z[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://idam-api.aat.platform.hmcts.net/oauth2/authorize?response_type\u003dcode\u0026client_id\u003dxuiwebapp\u0026redirect_uri\u003dhttps%3A%2F%2Fmanage-case.aat.platform.hmcts.net%2Foauth2%2Fcallback","content":"","contentType":"application/x-www-form-urlencoded","requestHeaders":"Authorization\u003dBasic c2ltdWxhdGUtZGVsaXZlcmVkMzlkYzk4YjgtNjhhZC00YTc0LTkwMWItOWVhZTU5OTA4MTQxQG1haWxpbmF0b3IuY29tOmdlbmVyaWNQYXNzd29yZDEyMw\u003d\u003d\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/x-www-form-urlencoded; charset\u003dISO-8859-1","requestCookies":"","responseHeaders":"Date: Mon, 10 Jan 2022 12:50:24 GMT\nContent-Type: application/json\nContent-Length: 38\nConnection: keep-alive\nCache-Control: no-cache, no-store, max-age\u003d0, must-revalidate\nExpires: 0\nPragma: no-cache\nRequest-Context: appId\u003dcid-v1:0d196103-84f6-43c7-9124-898486b5197c\nStrict-Transport-Security: max-age\u003d31536000 ; includeSubDomains\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-Xss-Protection: 1; mode\u003dblock","responseCookies":"","responseBody":"{\n    \"code\": \"oG7WZu0ew3JZbbne3pzKY0Z00fQ\"\n}","statusCode":200},"precondition":false,"level":0},{"number":3,"description":"POST https://idam-api.aat.platform.hmcts.net/oauth2/token?code\u003doG7WZu0ew3JZbbne3pzKY0Z00fQ\u0026client_id\u003dxuiwebapp\u0026client_secret\u003dDBssSOq0KKLNBf2z\u0026redirect_uri\u003dhttps%3A%2F%2Fmanage-case.aat.platform.hmcts.net%2Foauth2%2Fcallback\u0026grant_type\u003dauthorization_code","duration":0,"startTime":"2022-01-10T12:50:24.407877Z[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://idam-api.aat.platform.hmcts.net/oauth2/token?code\u003doG7WZu0ew3JZbbne3pzKY0Z00fQ\u0026client_id\u003dxuiwebapp\u0026client_secret\u003dDBssSOq0KKLNBf2z\u0026redirect_uri\u003dhttps%3A%2F%2Fmanage-case.aat.platform.hmcts.net%2Foauth2%2Fcallback\u0026grant_type\u003dauthorization_code","content":"","contentType":"application/x-www-form-urlencoded","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/x-www-form-urlencoded; charset\u003dISO-8859-1","requestCookies":"","responseHeaders":"Date: Mon, 10 Jan 2022 12:50:24 GMT\nContent-Type: application/json\nTransfer-Encoding: chunked\nConnection: keep-alive\nCache-Control: no-cache, no-store, max-age\u003d0, must-revalidate\nExpires: 0\nPragma: no-cache\nRequest-Context: appId\u003dcid-v1:0d196103-84f6-43c7-9124-898486b5197c\nStrict-Transport-Security: max-age\u003d31536000 ; includeSubDomains\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-Xss-Protection: 1; mode\u003dblock","responseCookies":"","responseBody":"{\n    \"access_token\": \"eyJ0eXAiOiJKV1QiLCJ6aXAiOiJOT05FIiwia2lkIjoiMWVyMFdSd2dJT1RBRm9qRTRyQy9mYmVLdTNJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJzaW11bGF0ZS1kZWxpdmVyZWQzOWRjOThiOC02OGFkLTRhNzQtOTAxYi05ZWFlNTk5MDgxNDFAbWFpbGluYXRvci5jb20iLCJjdHMiOiJPQVVUSDJfU1RBVEVMRVNTX0dSQU5UIiwiYXV0aF9sZXZlbCI6MCwiYXVkaXRUcmFja2luZ0lkIjoiMDNiNDAwNDYtM2Y0OS00NDljLWJjOWQtODcwZjYzYzk2NGNjLTExMTUyMTAzNSIsImlzcyI6Imh0dHBzOi8vZm9yZ2Vyb2NrLWFtLnNlcnZpY2UuY29yZS1jb21wdXRlLWlkYW0tYWF0Mi5pbnRlcm5hbDo4NDQzL29wZW5hbS9vYXV0aDIvcmVhbG1zL3Jvb3QvcmVhbG1zL2htY3RzIiwidG9rZW5OYW1lIjoiYWNjZXNzX3Rva2VuIiwidG9rZW5fdHlwZSI6IkJlYXJlciIsImF1dGhHcmFudElkIjoiMDA3ZC1KS0Y1eVVueVZZZ0JmRHA5YmtJSnFZIiwiYXVkIjoieHVpd2ViYXBwIiwibmJmIjoxNjQxODE5MDI0LCJncmFudF90eXBlIjoiYXV0aG9yaXphdGlvbl9jb2RlIiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSIsInJvbGVzIl0sImF1dGhfdGltZSI6MTY0MTgxOTAyNCwicmVhbG0iOiIvaG1jdHMiLCJleHAiOjE2NDE4NDc4MjQsImlhdCI6MTY0MTgxOTAyNCwiZXhwaXJlc19pbiI6Mjg4MDAsImp0aSI6InNCb0xMUzl1eGFOSS1OMVZ1bEQ3c3BjS0V3RSJ9.HYEnCV0XhnEYHeny3QzYhFiSVz5_dv4M0SK69ht5BW2601NU5J6j6q9R0DwfNp-RMVUNr3elCBPumnfDeDnWU-MaelVHLYZDnzsNlH36iwwcezZAwGC6fOEP4_ZgiIKE6AqgNbgS-172cD_Kv1aD-3tgBZ8MUibTXQ8y-HEOjFDhTMzXJlABR9JEGXBUHD1gMFXSJVUBg8gmNOMk2DLLg4h-ptvykJdD8LVouerMmReMxktmh4dSWVT0VxpDzecmWjzYuWKSojaWCWKklj0-YXyCPAbWeNfWlwFd_2oMyt_tss8rLdtNEm0Th2NtCuiPbPMLvS0wOUIrssl919YW-A\",\n    \"refresh_token\": \"eyJ0eXAiOiJKV1QiLCJ6aXAiOiJOT05FIiwia2lkIjoiMWVyMFdSd2dJT1RBRm9qRTRyQy9mYmVLdTNJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJzaW11bGF0ZS1kZWxpdmVyZWQzOWRjOThiOC02OGFkLTRhNzQtOTAxYi05ZWFlNTk5MDgxNDFAbWFpbGluYXRvci5jb20iLCJjdHMiOiJPQVVUSDJfU1RBVEVMRVNTX0dSQU5UIiwiYXV0aF9sZXZlbCI6MCwiYXVkaXRUcmFja2luZ0lkIjoiMDNiNDAwNDYtM2Y0OS00NDljLWJjOWQtODcwZjYzYzk2NGNjLTExMTUyMTAzNCIsImlzcyI6Imh0dHBzOi8vZm9yZ2Vyb2NrLWFtLnNlcnZpY2UuY29yZS1jb21wdXRlLWlkYW0tYWF0Mi5pbnRlcm5hbDo4NDQzL29wZW5hbS9vYXV0aDIvcmVhbG1zL3Jvb3QvcmVhbG1zL2htY3RzIiwidG9rZW5OYW1lIjoicmVmcmVzaF90b2tlbiIsImF1dGhNb2R1bGVzIjoiRGF0YVN0b3JlIiwidG9rZW5fdHlwZSI6IkJlYXJlciIsImF1dGhHcmFudElkIjoiMDA3ZC1KS0Y1eVVueVZZZ0JmRHA5YmtJSnFZIiwiYXVkIjoieHVpd2ViYXBwIiwiYWNyIjoiMCIsIm5iZiI6MTY0MTgxOTAyNCwiZ3JhbnRfdHlwZSI6ImF1dGhvcml6YXRpb25fY29kZSIsInNjb3BlIjpbIm9wZW5pZCIsInByb2ZpbGUiLCJyb2xlcyJdLCJhdXRoX3RpbWUiOjE2NDE4MTkwMjQsInJlYWxtIjoiL2htY3RzIiwiZXhwIjoxNjQyNDIzODI0LCJpYXQiOjE2NDE4MTkwMjQsImV4cGlyZXNfaW4iOjYwNDgwMCwianRpIjoiUGR5Znk4Y29aSHJFOW12RWk3bUR6R0E3Qm9vIn0.m4FE1kz8KMK0H-H92kLYcEIAb9PoYNQxbxgFg4j4PO40CwAECDDhGjBd50FTeLypYxrRhfSwNBo2jXzConYL1mw6422mq7QU-oSZspRF9m1DnhxJUu91QF3MAECQOGbIP_LR4itUE5EYlObSaEpUY88zG3gemYCC0M2QBHmv8Zb9cinqWaarKBkqPhF8P5E9eNdO3F_XWRnC-OxhkqZaU-L9SY2ugy20W6HdVWKZzowV99mk2PPch_RRE7PatatUlTTJasOb_DwmoqwLE2kJMRR8DIYexwEoe9vQY6G3Iu-MFiunSwzdM6Ni_r85UFyxgjnqvno33A8ahCaLKQvHwA\",\n    \"scope\": \"openid profile roles\",\n    \"id_token\": \"eyJ0eXAiOiJKV1QiLCJraWQiOiIxZXIwV1J3Z0lPVEFGb2pFNHJDL2ZiZUt1M0k9IiwiYWxnIjoiUlMyNTYifQ.eyJhdF9oYXNoIjoibThTUjR6LS10b2JmOUlBNjlOUUtpdyIsInN1YiI6InNpbXVsYXRlLWRlbGl2ZXJlZDM5ZGM5OGI4LTY4YWQtNGE3NC05MDFiLTllYWU1OTkwODE0MUBtYWlsaW5hdG9yLmNvbSIsImF1ZGl0VHJhY2tpbmdJZCI6IjAzYjQwMDQ2LTNmNDktNDQ5Yy1iYzlkLTg3MGY2M2M5NjRjYy0xMTE1MjEwMzYiLCJyb2xlcyI6WyJjYXNld29ya2VyLXByaXZhdGVsYXctc29saWNpdG9yIl0sImlzcyI6Imh0dHBzOi8vZm9yZ2Vyb2NrLWFtLnNlcnZpY2UuY29yZS1jb21wdXRlLWlkYW0tYWF0Mi5pbnRlcm5hbDo4NDQzL29wZW5hbS9vYXV0aDIvcmVhbG1zL3Jvb3QvcmVhbG1zL2htY3RzIiwidG9rZW5OYW1lIjoiaWRfdG9rZW4iLCJnaXZlbl9uYW1lIjoiSGVucnkiLCJ1aWQiOiJkMDEyMjNjNC1jYWU1LTQxZjYtODI1Yi05ZTMyODY3NmFmY2UiLCJhdWQiOiJ4dWl3ZWJhcHAiLCJjX2hhc2giOiJfUVpXSmN0SjRjdjJiLXJMUVJ0enB3IiwiYWNyIjoiMCIsImF6cCI6Inh1aXdlYmFwcCIsImF1dGhfdGltZSI6MTY0MTgxOTAyNCwibmFtZSI6IkhlbnJ5IEhhcnBlciIsInJlYWxtIjoiL2htY3RzIiwiZXhwIjoxNjQxODIyNjI0LCJ0b2tlblR5cGUiOiJKV1RUb2tlbiIsImZhbWlseV9uYW1lIjoiSGFycGVyIiwiaWF0IjoxNjQxODE5MDI0fQ.NBOTCP0pbTpFX5TAkgmf9sAeVMmi2NNjWCWl9NxBtHRlwD9IZzt4zWyCg00WLSGzY8M5ArDx4twhJzQzVZzCOxs9a3kRuskdNEGJ9fLe91Mg_BFw0v8xoDYDaC5da2qwmTegO8oIsCP8WBtEyvaCM05MFJdr1eOLi5vhCqsYKh-dEQGJniAtCm0tvzu82MLTEkSF5k5iGZz-dlfiqglvgksjVpv8FHkBmj1J4f-Pwtn5tZ5St3LTR_aMKCSvP_8wS5d2eoElM8-zGURRTbhwghMZusaeCs87odJ7U3WArMbkGoijDviUA2W-V5n5S_PVQzMs-usfDdBTxlFHRTcAWA\",\n    \"token_type\": \"Bearer\",\n    \"expires_in\": \"28799\"\n}","statusCode":200},"precondition":false,"level":0}],"userStory":{"id":"uk.gov.hmcts.reform.prl.controllers.EmailControllerIntegrationTest","storyName":"Email controller integration test","storyClassName":"uk.gov.hmcts.reform.prl.controllers.EmailControllerIntegrationTest","path":"uk.gov.hmcts.reform.prl.controllers","type":"story"},"featureTag":{"name":"Uk.gov.hmcts.reform.prl.controllers/Email controller integration test","type":"story","displayName":"Uk.gov.hmcts.reform.prl.controllers/Email controller integration test"},"title":"When valid request format return200","tags":[{"name":"Uk.gov.hmcts.reform.prl.controllers/Email controller integration test","type":"story","displayName":"Uk.gov.hmcts.reform.prl.controllers/Email controller integration test"}],"startTime":"2022-01-10T12:50:14.611925Z[Europe/London]","duration":10608,"rule":"RULE_NOT_SET","testFailureCause":{"errorType":"java.lang.AssertionError","message":"expected:\u003c200\u003e but was:\u003c500\u003e","stackTrace":[{"classLoaderName":"app","declaringClass":"uk.gov.hmcts.reform.prl.controllers.EmailControllerIntegrationTest","methodName":"whenValidRequestFormat_Return200","fileName":"EmailControllerIntegrationTest.java","lineNumber":50,"format":1},{"classLoaderName":"app","declaringClass":"org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks","methodName":"evaluate","fileName":"RunBeforeTestMethodCallbacks.java","lineNumber":75,"format":1},{"classLoaderName":"app","declaringClass":"org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks","methodName":"evaluate","fileName":"RunAfterTestMethodCallbacks.java","lineNumber":86,"format":1}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"expected:\u003c200\u003e but was:\u003c500\u003e","testFailureSummary":"FAILURE;java.lang.AssertionError;expected:\u003c200\u003e but was:\u003c500\u003e;EmailControllerIntegrationTest.java","projectKey":"","annotatedResult":"FAILURE","isManualTestingUpToDate":false,"manual":false,"testSource":"JUnit","order":0,"result":"FAILURE"}